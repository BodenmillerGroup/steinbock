{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "docker-build",
			"type": "docker-build",
			"platform": "python",
			"dockerBuild": {
				"tag": "ghcr.io/bodenmillergroup/steinbock:latest",
				"dockerfile": "${workspaceFolder}/Dockerfile",
				"context": "${workspaceFolder}",
				"pull": true,
				"buildArgs": {
					"TENSORFLOW_TARGET": "tensorflow"
				},
				"target": "steinbock"
			}
		},
		{
			"label": "docker-build-gpu",
			"type": "docker-build",
			"platform": "python",
			"dockerBuild": {
				"tag": "ghcr.io/bodenmillergroup/steinbock-gpu:latest",
				"dockerfile": "${workspaceFolder}/Dockerfile",
				"context": "${workspaceFolder}",
				"pull": true,
				"buildArgs": {
					"TENSORFLOW_TARGET": "tensorflow-gpu"
				},
				"target": "steinbock"
			}
		},
		// {
		// 	"label": "docker-build-macos",
		// 	"type": "docker-build",
		// 	"platform": "python",
		// 	"dockerBuild": {
		// 		"tag": "ghcr.io/bodenmillergroup/steinbock-macos:latest",
		// 		"dockerfile": "${workspaceFolder}/Dockerfile",
		// 		"context": "${workspaceFolder}",
		// 		"pull": true,
		// 		"buildArgs": {
		// 			"TENSORFLOW_TARGET": "tensorflow-macos"
		// 		},
		// 		"target": "steinbock"
		// 	}
		// },
		{
			"label": "docker-run",
			"type": "docker-run",
			"dependsOn": [
				"docker-build"
			],
			"python": {
				"module": "steinbock"
			}
		},
		{
			"label": "docker-gpu-run",
			"type": "docker-run",
			"dependsOn": [
				"docker-build-gpu"
			],
			"python": {
				"module": "steinbock"
			}
		},
		// {
		// 	"label": "docker-macos-run",
		// 	"type": "docker-run",
		// 	"dependsOn": [
		// 		"docker-build-macos"
		// 	],
		// 	"python": {
		// 		"module": "steinbock"
		// 	}
		// },
		{
			"label": "compose-up: steinbock-debug",
			"type": "shell",
			"dependsOn": [
				"docker-build"
			],
			"command": "docker-compose up -d steinbock-debug"
		},
		{
			"label": "compose-up: steinbock-gpu-debug",
			"type": "shell",
			"dependsOn": [
				"docker-build-gpu"
			],
			"command": "docker-compose up -d steinbock-gpu-debug"
		},
		// {
		// 	"label": "compose-up: steinbock-macos-debug",
		// 	"type": "shell",
		// 	"dependsOn": [
		// 		"docker-build-macos"
		// 	],
		// 	"command": "docker-compose up -d steinbock-macos-debug"
		// },
		{
			"label": "compose-up: pytest-debug",
			"type": "shell",
			"dependsOn": [
				"docker-build"
			],
			"command": "docker-compose up -d pytest-debug"
		},
		{
			"label": "compose-up: pytest-gpu-debug",
			"type": "shell",
			"dependsOn": [
				"docker-build-gpu"
			],
			"command": "docker-compose up -d pytest-gpu-debug"
		}
		// {
		// 	"label": "compose-up: pytest-macos-debug",
		// 	"type": "shell",
		// 	"dependsOn": [
		// 		"docker-build-macos"
		// 	],
		// 	"command": "docker-compose up -d pytest-macos-debug"
		// }
	]
}