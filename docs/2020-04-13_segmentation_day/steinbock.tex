\documentclass[aspectratio=169]{beamer}

\usepackage{hyperref}
\usepackage{minted}

\title{steinbock}
\subtitle{A dockerized multi-channel image segmentation framework}
\date{April 13, 2021}
\author{Jonas Windhager}

\usetheme{bblab}

\begin{document}


\begin{frame}
\titlepage
\end{frame}


\begin{frame}{Motivation}
	
	Challenges with existing implementation:
	\begin{itemize}
		\item \textbf{Installation}: documentation, environments \& dependencies
		\item \textbf{Usage}: documentation, usability, efficiency, reproducibility
		\item \textbf{Maintenance \& support}: compatibility, extensibility
	\end{itemize}

\end{frame}


\begin{frame}{The \texttt{steinbock} framework}
	
	Framework for pixel classification-based cell segmentation
	\begin{itemize}
		\item Python package with integrated command-line interface (CLI)
		\item Versioned Docker container exposing the \texttt{steinbock} CLI, with third-party software (e.g., Ilastik, CellProfiler) pre-installed
		\item Documentation: \href{https://bodenmillergroup.github.io/steinbock}{bodenmillergroup.github.io/steinbock}
		\item Maintenance \& support: Lars MalmstrÃ¶m, Jonas Windhager
	\end{itemize}

	\bigskip

	Implemented multi-channel image segmentation approaches:
	\begin{itemize}
		\item Zanotelli et al. (Zenodo, 2017). \textit{ImcSegmentationPipeline: \\ A pixel classification-based multiplexed image segmentation pipeline}.
	\end{itemize}
	
\end{frame}


\begin{frame}[fragile]{Installation}

\begin{enumerate}
	\item Install Docker
	\bigskip
	\item Pull \texttt{steinbock} Docker image:\\
\begin{minted}{bash}
docker pull jwindhager/steinbock:0.2.0
\end{minted}
	\bigskip
	\item Configure system to enable the \texttt{steinbock} command
\end{enumerate}

\end{frame}


\begin{frame}[fragile]{Usage}
	
\begin{minted}[fontsize=\scriptsize]{bash}
> steinbock --help

Usage: steinbock [OPTIONS] COMMAND [ARGS]...

Options:
--help  Show this message and exit.

Commands:
preprocess  Extract and preprocess images from raw data
classify    Perform pixel classification to create probability images
segment     Perform cell segmentation to create cell masks
measure     Extract single-cell data from segmented cells
\end{minted}
	
\end{frame}


\begin{frame}[fragile]{Example}
	
\begin{minted}[fontsize=\scriptsize]{bash}
# See https://bodenmillergroup.github.io/steinbock/beta-testing

steinbock preprocess imc --hpf 50              # hifi, ...

steinbock classify ilastik prepare --seed 123
steinbock classify ilastik app                 # train pixel classifier
steinbock classify ilastik run

steinbock segment cellprofiler prepare
steinbock segment cellprofiler app             # modify pipeline
steinbock segment cellprofiler run

steinbock measure cells intensities            # regionprops, ...
steinbock measure dists border                 # centroid, ...
steinbock measure graphs dist --thres 4        # knn, ...

\end{minted}
	
\end{frame}


\begin{frame}{Discussion}
	
	\begin{itemize}
		\item Viable solution?
		\item Missing functionality?
		\begin{itemize}
			\item OME-TIFF export?
			\item Spillover correction?
		\end{itemize}
		\item CLI vs Jupyter notebook?
		\item Documentation (markdown)?
		\item HistoCAT-web integration?
	\end{itemize}
	
\end{frame}


\end{document}
