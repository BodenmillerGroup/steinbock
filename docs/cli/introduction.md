# Introduction

The following sections document the usage of the *steinbock* command-line interface (CLI).

!!! danger "Development status"
    The *steinbock* framework is in beta stage. Use at own risk. Always make backups of your data.

## Getting help

Use the `--help` option to list all available arguments to a *steinbock* command, e.g.:

    > steinbock --help

    Usage: steinbock [OPTIONS] COMMAND [ARGS]...

    Options:
    --help  Show this message and exit.

    Commands:
    preprocess  Extract and preprocess images from raw data
    classify    Perform pixel classification to extract probabilities
    segment     Perform image segmentation to create object masks
    measure     Extract object data from segmented images
    tools       Various tools and applications

## Directory structure

The input and output files and directories of all *steinbock* commands can be controlled via command-line options. However, without explicitly specifying input/output arguments, the following typical directory structure is assumed:

    steinbock data/working directory
    |
    ├── raw
    |
    ├── img
    ├── panel.csv
    |
    ├── ilastik_img
    ├── ilastik_crops
    ├── pixel_classifier.ilp
    ├── ilastik_probabilities
    |
    ├── cell_segmentation.cppipe
    ├── masks
    |
    ├── intensities
    ├── regionprops
    ├── distances
    └── graphs

Depending on the [preprocessing approach](preprocessing.md), the user needs to provide either the `raw` directory containing the raw data, or the `img` directory containing the images and a `panel.csv` file. All other files and directories are generated by *steinbock* when following the standard workflow.

## Trying out steinbock

To try out *steinbock*, use the [IMC mock dataset](https://github.com/BodenmillerGroup/TestData/tree/main/datasets/210308_ImcTestData) as follows:

  1. Copy the [raw](https://github.com/BodenmillerGroup/TestData/tree/main/datasets/210308_ImcTestData/raw) directory to your *steinbock* data/working directory

  2. Place the [panel.csv](https://github.com/BodenmillerGroup/TestData/blob/main/datasets/210308_ImcTestData/panel.csv) into the `raw` directory in your *steinbock* data/working directory

  3. Continue with [Imaging Mass Cytometry (IMC) preprocessing](preprocessing.md#imaging-mass-cytometry-imc) and subsequent steps

!!! note
    Existing Ilastik training data ([Ilastik pixel classification project](https://github.com/BodenmillerGroup/TestData/blob/main/datasets/210308_ImcTestData/ilastik.ilp), [Ilastik crops](https://github.com/BodenmillerGroup/TestData/tree/main/datasets/210308_ImcTestData/analysis/ilastik)) can be used for the classification step.

